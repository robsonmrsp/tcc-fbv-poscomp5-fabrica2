<?xml version="1.0"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"  xmlns:telaTemplate="sisa.com.br.TelaTemplate.*" creationComplete="iniciarTela()" layout="absolute" width="100%" height="100%"
	horizontalAlign="center" backgroundImage="img/estrutura/BackGroudFBV4.png">
		
<mx:Script>
		<![CDATA[
			import sisa.com.br.TelaUsuario.ConsultaUsuario;
			import mx.containers.TitleWindow;
			import sisa.com.br.TelaUsuario.Usuario;
			import mx.containers.Canvas;
			import mx.messaging.FlexClient;
			import mx.managers.PopUpManager;
			import mx.events.FlexEvent;
			import mx.rpc.events.ResultEvent;
			 import mx.events.MenuEvent;
            import mx.controls.Alert;
            import mx.collections.*;
			
			 [Bindable]
            public var menuBarCollection:XMLListCollection;
            public 	 var telaUsurio:Usuario;
            
			private function iniciarTela():void
			{

			   	myViewstack.removeAllChildren();
				this.tela01 = new TelaTemplateConsulta();
				myViewstack.addChild(tela01);

			}
            
            private function getTela(event:MenuEvent):void{
            
	            if(event.item.tl == "Usuario"){
		            myViewstack.removeAllChildren();			
					var consUsuario:ConsultaUsuario = new ConsultaUsuario();
		            	myViewstack.addChild(consUsuario);
		        }else{
		           
		        }
            	
            }
            
            private function sairAplicacao():void{
            }
			
			
            public var array:ArrayCollection = new ArrayCollection([
	        { cd:"1", nome:"Proposta", tp:"A", tl:"", children:[{cd:"6", nome:"Proposta", tp:"B", tl:"", 
	        										  children:[{cd:"6", nome:"Promitente", tp:"C", tl:"Promitente"}]}]},
	        { cd:"2", nome:"Lote", tp:"A", tl:""},
	        
	        { cd:"3", nome:"Administração", tp:"A", tl:"", children:[{cd:"8", nome:"Usuario", tp:"B", tl:"Usuario"}, 
	        											  {cd:"9", nome:"Perfil", tp:"B", tl:"Perfil"}, 
	        											   {cd:"10", nome:"Transação", tp:"B", tl:"Transacão"}]}       
	      ]);

            
		]]>
	</mx:Script>

      <mx:Box width="1012" height="410" x="176" y="166">
             <mx:ViewStack width="1006" height="402" id="myViewstack">	
				<telaTemplate:TelaTemplateConsulta id="tela01" width="1006"/>
				
			</mx:ViewStack>   
        </mx:Box>      
        
         <mx:MenuBar labelField="nome" itemClick="getTela(event)" dataProvider="{array}" x="0"  width="1186" y="98"/>

      <mx:Image x="1133" y="13" source="img/estrutura/logout.png" click="{sairAplicacao()}"/> 
          
       
</mx:Application>